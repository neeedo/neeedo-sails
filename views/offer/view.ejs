<div class="container">
  <div class="row">
    <div class="col-xs-6">

      <ul id="offerGallery">
        <% if(offer.getImages().length > 0){
          offer.getImages().forEach(function(image){ %>
        <li data-thumb=<%- FileService.filterGetImageUrl(image.getUrl()) %> data-src="img/largeImage.jpg">
          <img class="galleryImg" src= <%- FileService.filterGetImageUrl(image.getUrl()) %> alt="<%- image.getUrl() %>">
        </li>
        <% })}else{%>
        <li data-thumb="<%- OfferService.getFirstImage(offer).path %>" data-src="img/largeImage.jpg">
          <img class="galleryImg" src=<%- OfferService.getFirstImage(offer).path %> alt="<%- OfferService.getFirstImage(offer).altText %>">
        </li>
        <%} %>
      </ul>

      <%- partial('../partials/crudButtonsOffer.ejs', {offer: offer}) %>
      <h4 class="media-heading title"><%= offer.getTags() %></h4>

      <p><%= i18n('Price') %>:<%= offer.getPrice() %> <span class="glyphicon glyphicon-euro" aria-hidden="true"></span>
      </p>

    </div>
    <div class="col-xs-6">
      <% if (false !== showMap)  { %>
      <%- partial('../partials/map/map.ejs', {
        mapType: showMap.mapType,
        demandSourceUrl: undefined,
        offerSourceUrl: showMap.offerSourceUrl,
        demandMatchingSourceUrl: undefined,
        showDetailsLink: false
      }) %>
      <% } %>
    </div>
  </div>
  <%- partial('../partials/forms/message.ejs', {
      offer: offer,
      title: "Send message to offeror",
      notLoggedInMessage: 'Please login in order to send message to the offeror',
      defaultMessage: MessageService.buildDefaultMessageForOffer(offer, req, res),
      recipientId: offer.getUser().getId()
    }
  ) %>
</div>

<% block('localScripts', '<script src="/js/localscripts/gallery.js"></script>') %>
