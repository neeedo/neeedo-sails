<form method="POST" id="createOffer">
  <%- partial ('./offer-fileupload.ejs') %>

  <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"
                aria-label="Close"><span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title"><%= i18n("I'm offering") %></h4>
    </div>
    <div class="modal-body">
        <label for="tagsOffer"><%= i18n('Tags') %>: </label>
        <input class="form-control" name="tags" id="tagsOffer" type="text"
               value="<%- tags %>" placeholder="<%= i18n('Tags') %>"/>

        <label for="priceOffer"><%= i18n('Price') %>: </label>
        <input type="number" name="price" id="priceOffer" class="form-control"
               placeholder="<%= i18n('Preis') %>" value="<%- price %>"/>

        <div class="row">
          <div class="col-lg-6">
            <label for="useGeolocation"><%= i18n('Use my current location') %></label>
            <input type="checkbox" id="useGeolocation" checked
                   data-translationNoGeolocation="<%= i18n("We couldn't determine your location. Please check your browser settings or type in your desired address directly.") %>"
                   data-translationNoAddress="<%= i18n("Please enter an valid address.") %>">

            <div id="addressContainer" class="ui-widget">
              <label for="address" id="addressLabel"><%= i18n('Address') %></label>
              <input type="text" id="address">
            </div>
          </div>
        </div>

        <input type="hidden" name="lat" id="latOffer" value="<%- lat %>"/>
        <input type="hidden" name="lng" id="lonOffer" value="<%- lng %>"/>

        <% images.getImages().forEach(function(image) { %>
        <input type="hidden" name="images[]" value="<%= image.getFileName() %>">
        <% }) %>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-default" data-dismiss="modal"><%=
            i18n(btnLabel) %>
        </button>
    </div>
</form>

<% /* the following partial will be dynamically rendered by the browser's javascript
 * This is are handlebar templates.
 * The rendered objects are coming from the webapp's AJAX endpoints, e.g. FileController::uploadAjax
 */ %>
<%- partial ('./offer-previewImages.ejs') %>

<% block('localScripts', '<script src="/js/localscripts/demands-offers.js"></script>') %>
